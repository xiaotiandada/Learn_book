<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // 记忆 memoization
        // var fibonacci = function(n){
        //     return n < 2 ? n : fibonacci(n-1) + fibonacci(n - 2)
        // }
        // for (var i = 0; i <= 10; i++) {
        //     console.log("//" + i + " : " + fibonacci(i) )
        // }
        // var fibonacci = function () {
        //     var memo = [0, 1]
        //     var fib = function (n) {
        //         var result = memo[n]
        //         if (typeof result !== 'number') {
        //             result = fib(n - 1) + fib(n - 2)
        //             memo[n] = result
        //         }
        //         return result
        //     }
        //     return fib

        // }

        var memoizer = function (memo, formula){
            var recur = function(n){
                var result = memo[n]
                if(typeof result !== 'number'){
                    result = formula(recur, n)
                    memo[n] =result
                }
                return result
            }
            return recur
        }
        // var fibonacci = memoizer([0,1],function(recur, n){
        //     return recur(n - 1) + recur(n -2)
        // })
        var fibonacci = memoizer([0,1],function(recur,n){
            return n * recur ( n -1 ) 
        })
        for (var i = 0; i <= 50; i++) {
            console.log(i+ ":"+fibonacci(i))
        }

    </script>
</body>

</html>