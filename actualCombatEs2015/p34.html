<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>


        // const DataCenter = {
        //     baseUrl : 'http://example.com/api/data',
        //     search(query){
        //         return fetch(`${this.baseUrl}/search?query=${query}`)
        //             .then(res => res.json())
        //             .then(rows => fetch(`${this.baseUrl}/fetch?ids=${rows.json(',')}`))
        //             // 此处的this 是 DataCenter 而不是fetch中的某个实例
        //             .then(res => res.json())
        //     }
        // }

        // DataCenter.search('iwillwen')
        //     .then(rows => console.log(rows))


        // 'use strict';

        // var DataCenter = {
        //     baseUrl: 'http://example.com/api/data',
        //     search: function search(query) {
        //         var _this = this;

        //         return fetch(this.baseUrl + '/search?query=' + query).then(function (res) {
        //             return res.json();
        //         }).then(function (rows) {
        //             return fetch(_this.baseUrl + '/fetch?ids=' + rows.json(','));
        //         })
        //             // 此处的this 是 DataCenter 而不是fetch中的某个实例
        //             .then(function (res) {
        //                 return res.json();
        //             });
        //     }
        // };

        // DataCenter.search('iwillwen').then(function (rows) {
        //     return console.log(rows);
        // });



    </script>
</body>

</html>